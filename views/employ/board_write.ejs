<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    </head>
    <body>
        <h1>신규 글 작성</h1>
        <!-- <a href="/"><-- 이전페이지</a> -->

        <form name="post-form">
            <input type="text" id="title" placeholder="제목" /><br />
            <input type="text" id="place_name" placeholder="시설명" /><br />
            <input type="text" id="city_name" placeholder="구인지역(시,도)" /><br />
            <input type="text" id="town_name" placeholder="구인지역(시,군,구)" /><br />
            <input type="text" id="place_address" placeholder="상세주소" /><br />
            <input type="text" id="job" placeholder="구인직종" /><br />
            <input type="text" id="deadline" placeholder="마감일" /><br />
            <input type="text" id="homepage" placeholder="홈페이지" /><br />
            <input type="text" id="career" placeholder="경력" /><br />
            <!-- <input type="password" id="password" placeholder="비밀번호" /><br /> -->
            <input type="number" id="salary" placeholder="희망급여" /><br />

            <button type="button" onclick="writeFunc()">등록</button>
        </form>
        <script>
            async function writeFunc() {
                const res = await axios({
                    method: 'POST',
                    url: '/api/employ/board/write',

                    data: {
                        city_name: document.querySelector('#city_name').value,
                        town_name: document.querySelector('#town_name').value,
                        place_address: document.querySelector('#place_address').value,
                        deadline: document.querySelector('#deadline').value,
                        homepage: document.querySelector('#homepage').value,
                        job: document.querySelector('#job').value,
                        title: document.querySelector('#title').value,
                        place_name: document.querySelector('#place_name').value,
                        career: document.querySelector('#career').value,
                        //password: document.querySelector('#password').value,
                        salary: document.querySelector('#salary').value,
                    },

                    headers: {
                        Authorization: `Bearer ${localStorage.getItem('token')}`,
                    },
                });
                console.log('res', res);
                const { success, result } = res.data;
                console.log(res.data);
                if (success) {
                    alert('등록되었습니다');
                    document.location.href = `/employ/board/${result}`;
                }
            }
        </script>
    </body>
</html>
